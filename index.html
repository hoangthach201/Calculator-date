<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Máy tính Ngày tháng — Date Calculator</title>
  <meta name="description" content="Trang web nhỏ giúp tính toán ngày tháng: cộng/trừ ngày, tính khoảng cách giữa 2 ngày, tìm thứ của một ngày." />
  <style>
    /* ==========================
       CSS: Sáng, hiện đại, tối giản
       Tất cả đưa vào cùng file theo yêu cầu
       ========================== */
    :root{
      --bg:#fbfdff;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#0ea5a4; /* teal-ish */
      --accent-2:#0284c7;
      --radius:12px;
      --shadow: 0 6px 20px rgba(16,24,40,0.08);
      --glass: rgba(255,255,255,0.6);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,var(--bg),#f7fbfc);
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
      padding:24px;
    }

    /* Layout container */
    .container{
      max-width:1100px;
      margin:0 auto;
      display:flex;
      flex-direction:column;
      gap:20px;
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }
    .brand{
      display:flex;align-items:center;gap:12px;
    }
    .logo{
      width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));
      display:grid;place-items:center;color:white;font-weight:700;box-shadow:var(--shadow);
    }
    .brand h1{font-size:18px;margin:0}
    nav ul{display:flex;gap:12px;list-style:none;padding:0;margin:0}
    nav a{color:var(--muted);text-decoration:none;font-weight:600}
    nav a:hover{color:var(--accent)}

    /* Banner */
    .hero{
      background:var(--card);
      border-radius:var(--radius);
      padding:20px;
      display:flex;gap:24px;align-items:center;box-shadow:var(--shadow);
      flex-wrap:wrap;
    }
    .hero-text{flex:1;min-width:220px}
    .hero h2{margin:0 0 8px 0;font-size:20px}
    .hero p{color:var(--muted);margin:0}
    .cta{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border:0;cursor:pointer;font-weight:700}

    /* Main grid */
    main{
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:20px;
      align-items:start;
    }

    /* Card */
    .card{
      background:var(--card);
      border-radius:12px;padding:18px;box-shadow:var(--shadow);
    }
    .card h3{margin:0 0 12px 0}
    .muted{color:var(--muted);font-size:14px}

    /* Form layout */
    .grid-2{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    label{display:block;font-weight:600;margin-bottom:6px}
    input[type="date"], input[type="number"], select, button{
      width:100%;padding:10px 12px;border-radius:8px;border:1px solid #e6eef4;background:transparent;
      font-size:14px
    }
    .actions{display:flex;gap:10px;margin-top:12px}
    .btn{padding:10px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:700}
    .btn-primary{background:var(--accent);color:white}
    .btn-ghost{background:transparent;border:1px solid #e6eef4}

    /* Result area */
    .result{margin-top:12px;padding:12px;border-radius:8px;background:linear-gradient(180deg,#f8feff, #ffffff);border:1px solid #edf9f9}
    .result p{margin:6px 0}

    /* Sidebar */
    aside .card{position:sticky;top:24px}
    .small{font-size:13px;color:var(--muted)}

    footer{
      display:flex;justify-content:space-between;align-items:center;gap:16px;padding:12px 0 0 0;color:var(--muted);
      flex-wrap:wrap
    }

    /* Responsive */
    @media (max-width:880px){
      main{grid-template-columns:1fr}
      aside{order:2}
      .hero{flex-direction:column;align-items:flex-start}
    }
  </style>
</head>
<body>
  <div class="container" role="document">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden>DC</div>
        <div>
          <h1>Máy tính Ngày tháng</h1>
          <div class="small">Nhanh — Đơn giản — Chính xác</div>
        </div>
      </div>
      <nav aria-label="Chính">
        <ul>
          <li><a href="#home">Trang chủ</a></li>
          <li><a href="#calculator">Tính toán</a></li>
          <li><a href="#about">Giới thiệu</a></li>
          <li><a href="#contact">Liên hệ</a></li>
        </ul>
      </nav>
    </header>

    <section class="hero" id="home">
      <div class="hero-text">
        <h2>Tính toán với ngày tháng — nhanh và trực quan</h2>
        <p class="muted">Tính khoảng cách giữa hai ngày, cộng/trừ số ngày, hoặc tìm ra thứ trong tuần cho một ngày bất kỳ.</p>
      </div>
      <div>
        <button class="cta" onclick="document.getElementById('calculator').scrollIntoView({behavior:'smooth'})">Bắt đầu ➜</button>
      </div>
    </section>

    <main>
      <!-- Left: Calculator -->
      <section class="card" id="calculator" aria-labelledby="calc-title">
        <h3 id="calc-title">Bảng công cụ</h3>
        <p class="muted">Chọn công cụ bạn muốn sử dụng dưới đây.</p>

        <!-- Tabs selector -->
        <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn btn-ghost" data-tool="weekday" onclick="selectTool('weekday')">Tìm thứ</button>
          <button class="btn btn-ghost" data-tool="diff" onclick="selectTool('diff')">Khoảng cách 2 ngày</button>
          <button class="btn btn-ghost" data-tool="add" onclick="selectTool('add')">Cộng / Trừ ngày</button>
          
        </div>

        <!-- Tool panels -->
        <div id="tool-area" style="margin-top:16px">
          <!-- Diff: distance between dates -->
          <form id="tool-diff">
            <h4>Khoảng cách giữa hai ngày</h4>
            <div class="grid-2">
              <div>
                <label for="from-date">Từ ngày</label>
                <input id="from-date" type="date" required />
              </div>
              <div>
                <label for="to-date">Đến ngày</label>
                <input id="to-date" type="date" required />
              </div>
            </div>
            <div class="actions">
              <button type="button" class="btn btn-primary" onclick="calcDiff()">Tính</button>
              <button type="button" class="btn btn-ghost" onclick="this.closest('form').reset();clearResult()">Đặt lại</button>
            </div>
            <div id="result-diff" class="result" aria-live="polite" style="display:none"></div>
          </form>

          <!-- Add/Subtract days -->
          <form id="tool-add" style="display:none;margin-top:12px">
            <h4>Cộng / Trừ ngày</h4>
            <div class="grid-2">
                <div>
                    <label for="days">Số ngày (nhập số, âm để trừ)</label>
                    <input id="days" type="number" value="1" />
                </div>

                <div>
                    <label for="base-date">Ngày gốc</label>
                    <input id="base-date" type="date" required />
                </div>
            </div>
            <div class="actions">
              <button type="button" class="btn btn-primary" onclick="calcAdd()">Tính</button>
              <button type="button" class="btn btn-ghost" onclick="this.closest('form').reset();clearResult()">Đặt lại</button>
            </div>
            <div id="result-add" class="result" aria-live="polite" style="display:none"></div>
          </form>

          <!-- Weekday finder -->
          <form id="tool-weekday" style="display:none;margin-top:12px">
            <h4>Tìm thứ trong tuần</h4>
            <div>
              <label for="target-date">Chọn ngày</label>
              <input id="target-date" type="date" required />
            </div>
            <div class="actions">
              <button type="button" class="btn btn-primary" onclick="calcWeekday()">Tìm</button>
              <button type="button" class="btn btn-ghost" onclick="this.closest('form').reset();clearResult()">Đặt lại</button>
            </div>
            <div id="result-weekday" class="result" aria-live="polite" style="display:none"></div>
          </form>

        </div>
      </section>

      <!-- Right: Sidebar -->
      <aside>
        <div class="card" id="about">
          <h3>Hướng dẫn nhanh</h3>
          <p class="small">Trang này hoạt động hoàn toàn trên trình duyệt. Chỉ cần chọn ngày và nhấn nút tính.</p>
          <ul class="small" style="padding-left:18px">
            <li><strong>Khoảng cách 2 ngày</strong>: trả về số ngày (bao gồm/không bao gồm) và số tuần + ngày.</li>
            <li><strong>Cộng / Trừ</strong>: nhập số ngày dương hoặc âm.</li>
            <li><strong>Tìm thứ</strong>: trả về tên thứ bằng tiếng Việt.</li>
          </ul>
        </div>

        <div style="height:12px"></div>

        <div class="card" id="contact">
          <h3>Thông tin</h3>
          <p class="small">Phiên bản nhẹ — phù hợp để nhúng vào dự án hoặc mở rộng thêm.</p>
          <p class="small">Bạn có thể sao chép file này và chỉnh sửa trực tiếp.</p>
        </div>
      </aside>
    </main>

    <footer>
      <div class="small">© <span id="year"></span> Máy tính Ngày tháng</div>
      <div class="small">Made with ❤️ — Đơn giản &amp; tiện dụng</div>
    </footer>
  </div>

  <script>
    /* ==========================
       JavaScript: logic tính toán
       Đặt trong cùng file theo yêu cầu
       ========================== */

    // Helpers
    const el = id => document.getElementById(id);
    const formatDate = d => d.toLocaleDateString('vi-VN', {year:'numeric',month:'2-digit',day:'2-digit'});

    function clearResult(){
      ['result-diff','result-add','result-weekday'].forEach(id=>{
        const e=el(id); e.style.display='none'; e.innerHTML='';
      })
    }

    // Tab selection
    function selectTool(name){
      // hide all
      ['tool-diff','tool-add','tool-weekday'].forEach(id=>el(id).style.display='none');
      // show selected
      if(name==='diff') el('tool-diff').style.display='block';
      if(name==='add') el('tool-add').style.display='block';
      if(name==='weekday') el('tool-weekday').style.display='block';
      clearResult();
      // focus first input
      setTimeout(()=>{
        const first = document.querySelector('#'+(name==='diff'?'from-date':name==='add'?'base-date':'target-date'));
        if(first) first.focus();
      },50);
    }

    // Default tool
    selectTool('diff');

    // Calc difference between two dates
    function calcDiff(){
      const f = el('from-date').value;
      const t = el('to-date').value;
      if(!f || !t){ alert('Vui lòng chọn cả hai ngày.'); return }
      const d1 = new Date(f);
      const d2 = new Date(t);
      // Normalize to noon to avoid DST issues
      d1.setHours(12,0,0,0); d2.setHours(12,0,0,0);
      const ms = d2 - d1;
      const days = Math.round(ms / (1000*60*60*24));

      const absDays = Math.abs(days);
      const weeks = Math.floor(absDays/7);
      const rem = absDays % 7;

      const elR = el('result-diff');
      elR.style.display='block';
      elR.innerHTML = `Từ <strong>${formatDate(d1)}</strong> đến <strong>${formatDate(d2)}</strong>:<br>`;
      if(days===0){
        elR.innerHTML += `<p>Hai ngày trùng nhau (0 ngày).</p>`;
      } else {
        elR.innerHTML += `<p><strong>${days}</strong> ngày ${days>0? 'sau' : 'trước'} (tương đương ${weeks} tuần và ${rem} ngày).</p>`;
      }
    }

    // Add/subtract days
    function calcAdd(){
      const base = el('base-date').value;
      const days = Number(el('days').value) || 0;
      if(!base){ alert('Vui lòng chọn ngày gốc.'); return }
      const d = new Date(base);
      d.setHours(12,0,0,0);
      const result = new Date(d.getTime() + days * 24*60*60*1000);

      const elR = el('result-add');
      elR.style.display='block';
      elR.innerHTML = `<p>Ngày gốc: <strong>${formatDate(d)}</strong></p>`;
      elR.innerHTML += `<p>Kết quả sau <strong>${days}</strong> ngày: <strong>${formatDate(result)}</strong></p>`;
    }

    // Weekday finder
    function calcWeekday(){
      const t = el('target-date').value;
      if(!t){ alert('Vui lòng chọn ngày.'); return }
      const d = new Date(t);
      d.setHours(12,0,0,0);
      // getDay(): 0 (Chủ nhật) - 6 (Thứ 7)
      const names = ['Chủ nhật','Thứ hai','Thứ ba','Thứ tư','Thứ năm','Thứ sáu','Thứ bảy'];
      const weekday = names[d.getDay()];

      const elR = el('result-weekday');
      elR.style.display='block';
      elR.innerHTML = `<p><strong>${formatDate(d)}</strong> là <strong>${weekday}</strong>.</p>`;
    }

    // small nicety: show current year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Accessibility: allow Enter to submit in forms
    ['tool-diff','tool-add','tool-weekday'].forEach(id=>{
      const form = document.getElementById(id);
      form.addEventListener('keydown', e=>{
        if(e.key==='Enter'){
          const visible = form.style.display!=='none';
          if(visible){
            e.preventDefault();
            // call appropriate function
            if(id==='tool-diff') calcDiff();
            if(id==='tool-add') calcAdd();
            if(id==='tool-weekday') calcWeekday();
          }
        }
      })
    })
  </script>
</body>
</html>
